Логи в терминале сервера:
aizoomdoc-server  | 2026-01-28 16:36:50,339 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&static_token=eq.dev-static-token-default-user "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:36:50,526 - httpx - INFO - HTTP Request: PATCH https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | INFO:     172.18.0.1:47436 - "POST /auth/exchange HTTP/1.1" 200 OK
aizoomdoc-server  | 2026-01-28 16:36:50,809 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:36:50,910 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:36:51,030 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/settings?select=%2A&user_id=eq.default_user "HTTP/2 200 OK"
aizoomdoc-server  | INFO:     172.18.0.1:47436 - "GET /me HTTP/1.1" 200 OK
aizoomdoc-server  | 2026-01-28 16:36:51,309 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:36:51,416 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:36:51,525 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/settings?select=%2A&user_id=eq.default_user "HTTP/2 200 OK"
aizoomdoc-server  | INFO:     172.18.0.1:47436 - "GET /me HTTP/1.1" 200 OK
aizoomdoc-server  | 2026-01-28 16:36:51,835 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:36:51,985 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/chats?select=%2A&is_archived=eq.False&user_id=eq.default_user&order=updated_at.desc&limit=50 "HTTP/2 200 OK"
aizoomdoc-server  | INFO:     172.18.0.1:47436 - "GET /chats?limit=50 HTTP/1.1" 200 OK
aizoomdoc-server  | 2026-01-28 16:36:55,169 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/tree_nodes?select=%2A&order=sort_order.asc%2Cname.asc "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:36:55,369 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id%2Cnode_id&node_id=in.%28c4ec8656-2516-44dd-98b3-afb870a18e0f%2Cfcf3c182-60e8-4d8b-89c3-8a5de5a3df71%2C730e0546-8f58-462e-ae7c-0163d9abc096%2Ce20dc352-f858-4f5e-9c21-80d59f30a23e%2C5e57e6ac-c06f-4eb4-9e64-0b36e3f2753f%2C3d758793-0b1e-4e24-bde3-22480b3e59d3%2Ccfc29bd6-c59e-4286-8815-92976fc9f686%2Cbfda91b6-c149-4aae-a449-1f37f67672ae%2C03af196b-1216-4686-93f5-f19c3ea5f48b%2C48c559e1-ab93-4200-a093-28186877cd85%2C2f1b84c5-1efc-433e-913c-78393275ceb5%2Cbfdbba30-8ff8-4f26-afa4-8d25d819000c%2Cac05da7c-355a-4c9a-b97f-95d7a4b1295d%2C3f0e51bf-937d-49e8-93df-e28c0e9b431f%2C8c3f0609-008e-4cfe-9eeb-71bd2d11a321%2C0afd20d8-4446-4f8c-bd6d-fe315f0fff7a%2C58b08531-cb80-439c-826b-9db3b9df3e2f%2C50361856-e375-4413-8026-273e045e1951%2C5d4ad981-9954-4f84-b059-75a4a71676d4%2C24beeacc-5278-44ba-9855-8e85105cc8b9%2C2bab37e5-f58a-4925-ad61-f1e00fada769%2Caf02a582-ce3d-431a-ae50-87527fa58ccf%2Cd5b30f8e-e828-447f-97d0-7dc32aac72b0%2C4cab820b-30c3-463b-a2ac-73451d86ea12%2C6a1d78e9-2c8d-480d-9e1e-525d74e7a7d9%2C4c7841c2-a024-4ed6-8408-45e63d7f5965%2C6d00a116-c920-4810-8c53-9458ce0624c5%2Cb4ae7bfa-81b0-46e2-bca4-9cc74f058f3c%2Cd7268b80-00b2-4220-a4a1-36e3d267b1a0%2C7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085%2Cbfb1a701-91c3-4795-829a-5f9194a64df1%2C51afc857-236a-4ad3-8a16-c47ddc66b64b%2Cc153e5a8-03a2-47f6-9d58-790a2824a5c0%2C32b70d6f-8572-4d53-895f-0a05ce8c29a2%2C62fc7ede-4a56-401d-8747-8454a0e732da%2Cc2a15b5a-e1ad-49a9-99a9-80569593e94a%2Cfda64494-4e95-4799-beba-23d78018c37e%2C1e557051-41f9-4012-a0e5-92030d325372%2C10dab4c6-5a4f-4c9b-9f57-9b99c51e0f3c%2C026bea83-1e23-4dd5-97fd-5b33b7ab85c0%2C802c4c7b-afa8-4716-869e-72cccc375401%2C6e40dab9-eb83-445e-9cc7-d8b18658c1a5%2Cac89a829-4295-4e30-9e57-10b319156c51%2Cc4b29795-96d8-447b-b051-9911e216b0f5%2Cceba07f5-4906-4714-afd6-4d2d9c109af0%2C541aaf90-5bdf-4ed2-89d0-444ddf72b212%2C6623093b-8cac-4e0a-a9f5-fcf66250fa54%2C16c5a00f-b581-4a80-b227-ed77a99f9c3d%2C9a3236a7-377a-4a66-982c-50a2c6864239%2C68b4e0d3-1870-4072-81a1-53927c66d1b6%2C0a2d1a22-58db-430d-b66d-9e1666b87154%2Ced94de73-028c-4d57-8fb0-8800069474bf%2C2923f63f-9c5a-4684-a743-db46a4de9824%2C60fda339-88c9-43bc-bd80-8ef6ec8785a7%2C54e56eea-3cf1-4c4c-a4ef-7266c0295638%2C90ed4aac-1063-4316-b961-21e6113cfca0%2C29004924-ddd9-49ec-9e40-0935f504b55b%2Cd59daedc-19e3-4af4-96ad-f626d520b75d%2Cfa854090-d006-48f7-8310-421fd13a7c95%2Ceb2b8b21-af86-410f-a7d8-bce7283b9c10%2C944b582f-7eee-46cc-ac4c-d5298e649515%2C06fa2545-7db1-4e22-8e59-09da16dacbe7%2C348e2576-616b-4301-8f69-50509e0aa785%2C8b1ec894-c9b7-4a0e-aaeb-0b0ede9d666f%2Cc3ca0a35-52f4-4eb2-b2d0-ab158abab01f%2C83f0cff5-bcea-44ad-8eae-e817e88e2328%2Cdcdff0df-d9de-4dbf-b5fe-42dbeee28135%2C322446aa-ca57-41b4-96a4-daa7af49e863%2Cc89debcb-90ea-4322-bc66-77fcb8e616c0%2C2676117b-248d-4d08-8ff1-67ffba888607%2C3223f35a-16ef-4d44-bbbd-bb249500d445%2C86cc317f-987b-41bb-97fb-96ede9f51bc0%2C3ea9da4d-8086-4b4a-b350-62c582925fa8%2C0733ec8e-757c-494c-b0e3-6673f16ac08c%2Ca527bde5-85b1-49f5-b72e-7be4b4886de6%2C1209355b-75d0-465d-b156-5aafd549a54e%2C83e0df16-803d-42c2-9b83-cbb397f18ed9%2C5fad3991-8e85-4595-b57b-e7f14c7cd9ca%2Cf258586e-d966-4317-ab90-990a9c4e4f2d%2C7383bedd-0540-44d2-b596-d00097ad8900%2Cf8078afe-13b8-4cef-95a5-35361bb78221%2Ce8c2650f-3782-43f1-895b-03cf236e40b6%2C41452068-c736-4e79-90c6-d09236179a80%2C089ae4d7-eecc-4793-98dd-39e584fb5a85%2Cd22c5345-e9f0-4ad7-965b-071273430b35%2Cba5ef418-d51b-4b4e-be3a-77075ab4bc67%2C63674230-2af2-448f-a352-17085e790c7d%2Cca6695dd-df09-40d6-8c5f-e6abcfac9ef0%2Cf40ebc20-7dd0-4543-8635-d04e5c18d653%2Cdf3a1517-f58f-459e-b1da-3dc14e3d49a6%2C89a296bc-77b8-40dd-9e28-56f709b7c2fc%2Ccf368139-6ece-4911-ba3b-5d2efe755147%2C89548ec1-b255-4678-ab1a-f24a70faffed%2C81fbaf03-96af-4a8a-8450-5caedb7378b7%2C65aabc0c-c9d3-4c09-b68e-4b29d044a3d6%2C179fe48d-2a21-479b-97ce-4a4e466260a9%2C576fae6c-ad66-42ab-a1a6-6c6f7fda3ad9%2C4c4a8870-da6e-4be9-9c94-e9f758f33d28%2C31ce9e09-c1d4-45dd-b9b6-9291e9467d93%2Cedac735a-58b3-41e7-ad95-6748966890d2%2C9c7be65e-bbc2-4a78-911d-ceae9f55ae0b%2Cbee0e246-58db-4fe6-bf98-9053f8d9b63d%2C0a481719-378c-4ae4-902d-3185b7252487%2Cfdd946c6-333b-4ede-b287-a463920d1021%2C60da4d3a-d11d-4a22-b0b8-aa0087ed9d21%2C6d204ad3-c89d-491a-aecb-461bed49461f%2C46632ad3-d3a6-4a8a-bd52-0c5cf4399fa4%2C048ae2cb-5d5b-40e4-b38a-3cb02c15728d%2Cf3726639-c46c-4a99-ac4c-921ab1226986%2Ccc79a110-96f4-4967-9b34-78290ddffbd9%2C8892d80c-f332-43d8-b773-2c9b6e65c3c9%2C928cd7b7-8ea6-45e1-9fca-c601e1e13af5%2Ccb5fa1f2-458f-4985-a18b-271dd29c4b8e%2Cb124b15e-7612-45bb-9bee-d6a967df0dfb%2Cff0d2ddc-42de-48f7-b40e-eaa4686c6e7b%2C716d02bc-889a-43eb-96db-4aeaaf1bcb04%2C05cdb10b-4975-4010-82ac-8c89cac737a5%2C6cc4633b-85e6-4337-b8a2-8ff4ea3502cb%2Cfae8266d-8a38-4e98-a222-b8ea01f72ae1%2C0b71a3eb-8795-4c6f-b008-8968d336e87b%2Ccf44ecbc-3225-4e00-b925-a75196690b88%2C235e4f04-f7c5-4a6f-8b9c-0ee0efcba73c%2C4c4815ff-9676-4011-86d3-4a3106b719f3%2C1ad13124-7755-4516-8a80-aa32a220f974%2C75c315e3-2786-4e59-a470-fbb89498f19d%2Cee695df6-6eec-4ce7-a887-37385d42dd51%2Cd3c957f7-8f72-45a0-8b22-fcbf57ac0a6c%2C78cb02b5-e262-42aa-9376-a28e4d9ededc%2Cc1938002-9c0b-441d-b65b-79207c6d83d5%2Cf347221d-8377-4a55-9c55-4e759689533d%2Cdd57a7b5-4c9c-4976-9042-0058a8adc216%2C52349d49-17e5-41c2-9d4f-c08c2585143a%2C8a2aa428-141b-404d-accc-5e4b31e11084%2C9a1aa88c-1952-49c5-afd3-5653dd9fe66b%2C371d9c20-b378-4fe3-bfbb-fb8e17334960%2Ca877083e-666b-45ca-b515-5eb947eaa46e%2C988193f5-9079-4be0-94cd-7826bcfe86e4%2C00bc9a04-d4bf-47f4-919d-05bd5edabd86%2Cd7579465-28a8-4c38-92c4-af9d22e86573%2Ce3d45863-995c-40f9-8af3-ec52d5bc1b0f%2C0760ca79-ac4c-439b-8dd1-065724e60d69%2Cdb6aff02-2d25-4bd3-98f7-d00703d3b8b8%2Cbdceae0b-81b7-44d6-b80a-0150a1055830%2C370360e6-5d1f-41d4-99af-077bbe68305f%2C36e218d9-a619-4714-9a7e-fbe3a81eba3b%2Cb19d9e6f-d2f7-4272-8785-529af556af41%2C7af4dac4-6194-42f5-94c0-bcf6b4d41c32%2C5856ee3f-d7ee-4441-9f88-de6981532e56%2Ccda8fd67-18bc-4703-b7d4-cba95dc5c636%2C0b8f87e1-5a9c-488f-a53a-2d8ead7486d9%2Ca9c15a82-3d37-4985-83da-0bff169e1f67%2Ca733ccd4-0e2a-4046-9a1f-750f0c7732a5%2C930e48d8-dd68-49bb-b08b-23cf3f4f197d%2Cd2ec574a-fdab-4c44-bb44-e153842e09d5%2Cb2df4082-2c70-4bb1-8ac3-0ba0c04b396d%2C186b13de-c5a5-4a24-9df7-c789781c81c5%2Cb8f6591c-abc8-47ac-94ae-0dcf5bd0e8cf%2Cc5801c4f-f67c-4dcc-8f7d-ffb28b3ade15%2C3dbf9030-04c0-4dd4-b06f-5f44caeb98bb%2Cb7950518-9800-4711-950c-20623b825957%2C7b98fa91-0d37-4eac-82d0-db6903062cdd%2C759e5d5e-c9b6-4fee-95ea-228e6d100727%2Cb902034d-301d-4acb-a0f1-1eec2f705c02%2Cffedae98-9229-438c-9438-70c3a753fe02%2Caeb653af-273a-4f45-95a6-044ec80d1d60%2C5b4ce867-ed92-41ec-8544-883cd2ef2275%2Cf82e43c9-4c8c-44a5-9b30-28c251c8d756%2C152afdff-fb82-473c-bd67-629a18d0949f%2Cdbe9a884-4b19-47b6-b7df-b798ef74098b%2C46ac1ced-9f12-446b-8672-fd06bd1559c3%2Cc3b56e72-c64e-4951-9d49-cdc3255d84eb%2C0a60d40c-b2d2-4ae6-b32d-f2a420fb7ecd%2C9203cdf2-5bce-4bed-9db6-41aef3c01a64%2Cabfde154-9bed-4b75-b1bc-f3b76c6c730f%2Cded59157-3ea5-4787-8452-2cb48770ea02%2Cf2147967-d238-4092-9d23-520a2e4070ff%2C565901a2-50cd-4fd8-a881-8f100ddfe729%2C900e5639-9d78-499a-83dd-654767344c9e%2C85f917bf-6995-4f19-a358-89235e16c0f5%2C4c496504-77b1-448d-b76a-bd5cd3fe2872%2Cf5264ad9-6621-4950-b887-94a863739665%2Cdc05aa81-b961-4889-ac0b-4f474d52c9c9%2C97200c6a-9c35-4d7e-b833-8752e00192b2%2Cf12bc18c-d3ec-43b6-8185-9abb16cd8f67%2Cfce71967-c6a4-445d-8012-27bf997e6a87%2C0edff94c-6833-432e-9dfb-2cba41e6e59a%2C95aec27f-e3c3-4d45-8524-7a4bf58712e2%2C5f7f02aa-2190-454f-b02b-79ebc52a3aaa%2C4da3a6da-a476-47f6-b449-7c66aa4af0d6%2Cb19761c7-17f6-4298-baa0-e3cc2bcd5f95%2C3907ff48-f840-4668-b2f8-91ba90c2e815%2C6b322a86-babc-4901-901a-df6ba14772c8%2C67ee8ae5-5ee3-4ae1-81a3-6b72a55d1636%2C79cc6de8-de06-4c0b-a9f6-7701577bd88b%2C098d26b8-5439-4e69-8cbd-df89036778e1%2C324d3b88-2176-49ca-a4f7-e446e5179fa4%2C16587385-7498-4e2a-8fba-0ab0fba8fad0%2C1f52e053-5b98-4fa9-b94c-c9db89cc057a%2C14f1092b-4671-4fae-b05c-eb4880a2c253%2Ce34d3eba-c87c-4bc1-9414-6cc4b05ceeb3%2C3d0eaa55-d84d-4cbf-a105-23e3ccd30c18%2C8bc2977d-0cf6-46b6-9b2f-7fefb0bd0144%2C0d1c83ff-3f1b-4a6d-932c-086cf912e993%2C589f4150-60d8-4729-ac08-53037409c28c%2C703acff8-976e-40ed-b838-551bb63d2d3c%2C4cbfb32e-decf-40d9-b0d2-d726ea68791b%2C101fcd02-a5fa-45ca-8629-c8bc012fde99%2C4b84bd81-a586-466b-9c4b-5f494ebc9513%2Cc0111c6d-6dfa-4a25-9dac-14868111b56b%2C308fe610-c44d-49e0-8a5e-c62972bd3e14%2C9c0ef806-ce37-4736-90a7-df075bf8e506%2C1561c371-73e7-4fad-8dd4-c8f25e1de1a9%2C7f288065-e452-43cc-9f58-9b67dd192a9e%2Cc1586f09-c4e3-4115-b09a-0d1e2a47cdbd%2C480a93ef-39d1-47e4-9a4d-aeea8ec0b98d%2C77c1ae9e-a94e-4dd7-b8a4-5956b6e65ba6%2C9152ab16-6aba-4b06-8b6e-0ae7189b5f1c%2C77e947a7-c97a-43d3-9f78-d699526e934f%2C34352012-b997-400c-a29e-782f384a7689%2C017977c9-90b4-41dd-800c-73e31416f691%2C37c64b72-e5b1-4c14-8411-7304b3e010c2%2C2f0c85d4-3f86-44c9-89d7-f48d78ef9a62%2C285247e8-51fd-4e6b-a8dd-048eecec0bd3%2Cdb9dc01d-c8fa-471c-baf5-5207ba1f910a%2Cf618d470-5cdb-4db6-9821-cfbdb0780313%2Ca6277527-a97d-4d1d-a331-0addd2c25220%2Cef5ef845-c8f5-40eb-b3cd-00e5551db9b3%2C82e5a240-d08d-44b7-9a8e-4ea66e1502f7%2C932b83ca-ab89-483b-b5b2-e7d72781a759%2C166299ba-cb37-4ede-9606-f15cd7e29061%2Cd1aa9e49-76ae-4c77-aa27-648d7a18eb21%2Cf3c6dc7c-316c-45cd-a37f-564aed937c93%29 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:36:55,500 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%287cb6553b-6381-462c-86d4-8d6e8035fb5e%2Ce7b7dd10-ed26-400d-861c-0d5ff9c5b262%2C4ead632d-7de1-4352-8d7b-c76a4eddbbd0%2C8ae79ee9-c7e5-4848-923f-d994bc4a1994%2C68db269d-30e7-4981-b9b3-7a4562c6fd59%2C5e7464eb-28df-4d41-9533-59c0ee681287%2Cac2a2cf0-f346-45a1-a470-1bf83a924654%2Ceca7353e-0a7d-4c5b-84ff-a3017f7c5aa8%2Cf202d2b1-c4bc-40e3-954b-38cddcf05804%2C97bb9082-a89b-47a3-aa9e-a253c5869d17%29&file_type=in.%28result_md%2Cocr_html%29 "HTTP/2 200 OK"
aizoomdoc-server  | INFO:     172.18.0.1:47436 - "GET /projects/tree?all_nodes=true&include_files=true HTTP/1.1" 200 OK
aizoomdoc-server  | 2026-01-28 16:46:53,191 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:53,379 - httpx - INFO - HTTP Request: PATCH https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/settings?user_id=eq.default_user "HTTP/2 200 OK"
aizoomdoc-server  | INFO:     172.18.0.1:49556 - "PATCH /me/settings HTTP/1.1" 200 OK
aizoomdoc-server  | 2026-01-28 16:46:53,736 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:53,912 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:54,075 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/settings?select=%2A&user_id=eq.default_user "HTTP/2 200 OK"
aizoomdoc-server  | INFO:     172.18.0.1:49556 - "GET /me HTTP/1.1" 200 OK
aizoomdoc-server  | 2026-01-28 16:46:54,314 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:54,470 - httpx - INFO - HTTP Request: POST https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/chats "HTTP/2 201 Created"
aizoomdoc-server  | INFO:     172.18.0.1:49556 - "POST /chats HTTP/1.1" 201 Created
aizoomdoc-server  | 2026-01-28 16:46:54,741 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/chats?select=%2A&id=eq.f77326cb-c5b5-4cc4-aae1-359a6f0b781b "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:54,852 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:54,975 - httpx - INFO - HTTP Request: POST https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/chat_messages "HTTP/2 201 Created"
aizoomdoc-server  | INFO:     172.18.0.1:49556 - "POST /chats/f77326cb-c5b5-4cc4-aae1-359a6f0b781b/messages HTTP/1.1" 201 Created
aizoomdoc-server  | 2026-01-28 16:46:55,420 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:55,536 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/users?select=%2A&id=eq.8a71a82f-74b7-4691-9706-35c78e1c2088 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:55,655 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/settings?select=%2A&user_id=eq.default_user "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:55,709 - app.services.render_cache - INFO - RenderCacheManager initialized: dir=/tmp/aizoomdoc_evidence_cache, max_size=2000MB, ttl=14days, enabled=True
aizoomdoc-server  | 2026-01-28 16:46:55,836 - httpx - INFO - HTTP Request: GET https://dgfoypolporuxqsvqwel.supabase.co/rest/v1/chat_messages?select=%2A&chat_id=eq.f77326cb-c5b5-4cc4-aae1-359a6f0b781b&order=created_at.desc&limit=1&role=eq.user "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:55,836 - app.routers.chats - INFO - Parsed tree_files: [{'r2_key': 'tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-ГК-АР4_изм.7_document.md', 'file_type': 'result_md'}]                                                                                                                                                                                
aizoomdoc-server  | INFO:     172.18.0.1:49560 - "GET /chats/f77326cb-c5b5-4cc4-aae1-359a6f0b781b/stream?document_ids=7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&tree_files=%5B%7B%22r2_key%22%3A+%22tree_docs%2Fd802aac1-7ba0-4a71-93ae-4885d3b89a6a%2F133_23-%5Cu0413%5Cu041a-%5Cu0410%5Cu04204_%5Cu0438%5Cu0437%5Cu043c.7_document.md%22%2C+%22file_type%22%3A+%22result_md%22%7D%5D HTTP/1.1" 200 OK  
aizoomdoc-server  | 2026-01-28 16:46:55,837 - app.services.queue_service - INFO - Request 4042d5c2 enqueued for chat f77326cb-c5b5-4cc4-aae1-359a6f0b781b, position=1, queue_size=1
aizoomdoc-server  | 2026-01-28 16:46:55,837 - app.services.queue_service - INFO - Request 4042d5c2 acquired slot, active=1                                                                        
aizoomdoc-server  | 2026-01-28 16:46:56,176 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/tree_nodes?select=%2A&id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:56,297 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=in.%28annotation%2Cocr_html%2Cresult_md%2Cresult_json%2Ccrops_folder%29 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:56,782 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:46:57,041 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_ocr.html "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:46:57,134 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:46:57,376 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_document.md "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:46:57,480 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:57,582 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:57,678 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:46:57,881 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:46:57,971 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:46:58,178 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_document.md "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:46:58,179 - app.services.agent_service - WARNING - Failed to download tree_file: tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-ГК-АР4_изм.7_document.md
aizoomdoc-server  | 2026-01-28 16:46:58,311 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/tree_nodes?select=%2A&id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:58,416 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=in.%28annotation%2Cocr_html%2Cresult_md%2Cresult_json%2Ccrops_folder%29 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:46:58,510 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:46:58,596 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:46:58,613 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
aizoomdoc-server  | 2026-01-28 16:47:01,938 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent "HTTP/1.1 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:01,963 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
aizoomdoc-server  | 2026-01-28 16:47:15,970 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-3-flash-preview:generateContent "HTTP/1.1 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:16,002 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
aizoomdoc-server  | 2026-01-28 16:47:41,206 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-preview:generateContent "HTTP/1.1 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:41,548 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:41,648 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:41,756 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:47:41,955 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:47:42,082 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:42,088 - app.services.agent_service - WARNING - Crop not found for image_id: IMG-FLOOR-7-PLAN
aizoomdoc-server  | 2026-01-28 16:47:42,188 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:42,309 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:42,397 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:47:42,612 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:47:42,738 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:42,745 - app.services.agent_service - WARNING - Crop not found for image_id: IMG-LINTEL-01
aizoomdoc-server  | 2026-01-28 16:47:42,847 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:42,942 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:43,034 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:47:43,244 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:47:43,373 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:43,379 - app.services.agent_service - WARNING - Crop not found for ROI: BLOCK-LINTEL-TABLE-010
aizoomdoc-server  | 2026-01-28 16:47:43,478 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:43,573 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:43,666 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:47:43,898 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:47:44,024 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:47:44,031 - app.services.agent_service - WARNING - Crop not found for ROI: IMG-FLOOR-7-PLAN
aizoomdoc-server  | 2026-01-28 16:47:44,043 - app.services.agent_service - INFO - Created 0 image_ready events                                                                                    
aizoomdoc-server  | 2026-01-28 16:47:44,068 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.
aizoomdoc-server  | 2026-01-28 16:48:26,364 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-preview:generateContent "HTTP/1.1 200 OK"
aizoomdoc-server  | 2026-01-28 16:48:26,709 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:48:26,806 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:48:26,907 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:48:27,121 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:48:27,240 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:48:27,246 - app.services.agent_service - WARNING - Crop not found for image_id: IMG-FLOOR-7-PLAN
aizoomdoc-server  | 2026-01-28 16:48:27,270 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.                                                                              
aizoomdoc-server  | 2026-01-28 16:48:58,814 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-preview:generateContent "HTTP/1.1 200 OK"
aizoomdoc-server  | 2026-01-28 16:48:59,153 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:48:59,257 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:48:59,350 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:48:59,601 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:48:59,788 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:48:59,794 - app.services.agent_service - WARNING - Crop not found for ROI: IMG-FLOOR-7-PLAN
aizoomdoc-server  | 2026-01-28 16:48:59,818 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.                                                                              
aizoomdoc-server  | 2026-01-28 16:49:40,966 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-preview:generateContent "HTTP/1.1 200 OK"
aizoomdoc-server  | 2026-01-28 16:49:41,323 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:49:41,419 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:49:41,520 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:49:41,735 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:49:41,856 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:49:41,862 - app.services.agent_service - WARNING - Crop not found for ROI: IMG-FLOOR-7-PLAN
aizoomdoc-server  | 2026-01-28 16:49:41,886 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.                                                                              
aizoomdoc-server  | 2026-01-28 16:50:15,124 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-preview:generateContent "HTTP/1.1 200 OK"
aizoomdoc-server  | 2026-01-28 16:50:15,466 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:50:15,574 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:50:15,679 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:50:15,880 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:50:16,019 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:50:16,026 - app.services.agent_service - WARNING - Crop not found for image_id: IMG-FLOOR-7-PLAN
aizoomdoc-server  | 2026-01-28 16:50:16,051 - google_genai.models - INFO - AFC is enabled with max remote calls: 10.                                                                              
aizoomdoc-server  | 2026-01-28 16:50:52,332 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-preview:generateContent "HTTP/1.1 200 OK"
aizoomdoc-server  | 2026-01-28 16:50:52,661 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/jobs?select=id&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:50:52,766 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/job_files?select=%2A&job_id=in.%285e7464eb-28df-4d41-9533-59c0ee681287%29&file_type=eq.blocks_index&limit=1 "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:50:52,877 - app.db.s3_client - ERROR - Error downloading bytes from S3: An error occurred (NoSuchKey) when calling the GetObject operation: The specified key does not exist.
aizoomdoc-server  | 2026-01-28 16:50:53,088 - httpx - INFO - HTTP Request: GET https://pub-3ad9256673c6414bb877d6b50e750918.r2.dev/tree_docs/d802aac1-7ba0-4a71-93ae-4885d3b89a6a/133_23-%D0%93%D0%9A-%D0%90%D0%A04_%D0%B8%D0%B7%D0%BC.7_blocks.json "HTTP/1.1 404 Not Found"
aizoomdoc-server  | 2026-01-28 16:50:53,219 - httpx - INFO - HTTP Request: GET https://zivbesacbxfmwzervmcy.supabase.co/rest/v1/node_files?select=%2A&node_id=eq.7a6a1ddd-ab9e-48ad-9cfc-5711a70cf085&file_type=eq.crop "HTTP/2 200 OK"
aizoomdoc-server  | 2026-01-28 16:50:53,226 - app.services.agent_service - WARNING - Crop not found for ROI: IMG-FLOOR-7-PLAN
aizoomdoc-server  | 2026-01-28 16:50:53,237 - app.services.agent_service - ERROR - Error in process_message: Failed to obtain final answer                                                        
aizoomdoc-server  | Traceback (most recent call last):
aizoomdoc-server  |   File "/app/app/services/agent_service.py", line 217, in process_message                                                                                                     
aizoomdoc-server  |     async for event in self._process_complex_mode(
aizoomdoc-server  |   File "/app/app/services/agent_service.py", line 1716, in _process_complex_mode                                                                                              
aizoomdoc-server  |     raise RuntimeError("Failed to obtain final answer")                                                                                                                       
aizoomdoc-server  | RuntimeError: Failed to obtain final answer                                                                                                                                   
aizoomdoc-server  | 2026-01-28 16:50:53,245 - app.services.queue_service - INFO - Request 4042d5c2 completed in 237.4s, avg=237.4s